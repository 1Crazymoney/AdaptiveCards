<!DOCTYPE html>
<html>
    <head>
        <title>Adaptive Card</title>
        <link rel="stylesheet" type="text/css"   href="/css/styles.css">
    </head>
    <body>   
        <script src='https://unpkg.com/adaptivecards/dist/adaptivecards.js'></script>
        <script src='https://unpkg.com/adaptivecards-templating/dist/adaptivecards-templating.min.js'></script>
        <textarea id ="jsonPayLoad"><%=cardPayLoad %></textarea>
        <div id="AdaptiveCard" class="AdaptiveCard"></div>
        <script>
            const cardPayLoad = document.getElementById("jsonPayLoad").value;
            document.getElementById('jsonPayLoad').style.display = "none";
            const card = JSON.parse(cardPayLoad);
            // const jsonObj = JSON.parse(jsonString);

            // const cardTemplate = jsonObj.template;
            // const cardData = jsonObj.data;

            // //create and render the card
            // const template = new ACData.Template(cardTemplate);
            // const card = template.expand({ $root: cardData });
            const adaptiveCard = new AdaptiveCards.AdaptiveCard();
            adaptiveCard.parse(card);
            const renderedCard = adaptiveCard.render();
            document.getElementById('AdaptiveCard').appendChild(renderedCard);
        </script>
        
    </body>
</html>
